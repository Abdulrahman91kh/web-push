<html>
	<head>
		<title>Testing Web Push Notification</title>
	</head>
	<body>
		<script type="text/javascript">
			addEventListener('load', async () => {
				const sw = navigator.serviceWorker.register('./sw.js');
				console.log('[SERVICE WORKER]', sw);
			});

			const subscribe = async () => {
				const sw = await navigator.serviceWorker.ready;
				const push = await sw.pushManager.subscribe({
					userVisibleOnly: true,
					applicationServerKey: 'BFz0a5SeLGVpHpWpl0qJCKu4HSTyEqQWsbULlgzYEJzBktbP_NGtPRlQOB-t_rg-1dVJVXNj3vigLy_LPmfZ654',
				});
				console.log(JSON.stringify(push));
			}

		</script>
		<button onclick="subscribe()">Subscribe</button>
	</body>
</html>